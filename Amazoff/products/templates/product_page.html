{% extends "layout.html" %} 
{% load static %}
{% block title %}{{ product.name}}{% endblock %} 
{% block styles %}
<link rel='stylesheet' href="{% static 'css/style-productpage.css' %}">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'css/style-reccos.css' %}"
{% endblock %}

{% block scripts %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="{% static 'js/reccos.js' %}"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,700&subset=latin-ext" rel="stylesheet">

{% endblock %}

{%block content %}
<div class="wrapperproducts">
<div class="grid second-nav" style = "background: #aaa;">
    <div class="column-xs-12">
      <nav>
        <ol class="breadcrumb-list" style="font-size: 1.25em;">
          <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
          <li class="breadcrumb-item"><a href="{% url 'products' %}">Products</a></li>
          <li class="breadcrumb-item active" style = "color: white;">{{ product.name }}</li>
        </ol>
      </nav>
    </div>
  </div>
  

<!-- Bootstap carousel. Rendering as many photos in carousel as given from django model -->
<div class="carousel-wrapper">
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="3000">
    <ol class="carousel-indicators" style = "position:absolute; bottom: 0;">
        {% if product.picture1 %}
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        {% endif %}
        {% if product.picture2 %}
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        {% endif %}
        {% if product.picture3 %}
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        {% endif %}
        {% if product.picture4 %}
            <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
        {% endif %}
        {% if product.picture5 %}
            <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
        {% endif %}
        {% if product.picture6 %}
            <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
        {% endif %}
    </ol>
    <div class="carousel-inner">
        {% if product.picture1 %}
            <div class="carousel-item active">
                <img class="d-block w-100" src="{{ product.picture1.url }}" alt="First slide">
            </div>
            {% endif %}
        {% if product.picture2 %}
            <div class="carousel-item">
                <img class="d-block w-100" src="{{ product.picture2.url }}" alt="Second slide">
            </div>
        {% endif %}
        {% if product.picture3 %}
            <div class="carousel-item">
                <img class="d-block w-100" src="{{ product.picture3.url }}" alt="Third slide">
            </div>
        {% endif %}
        {% if product.picture4 %}
            <div class="carousel-item">
                <img class="d-block w-100" src="{{ product.picture4.url }}" alt="Fourth slide">
            </div>
        {% endif %}
        {% if product.picture5 %}
            <div class="carousel-item">
                <img class="d-block w-100" src="{{ product.picture5.url }}" alt="Fifth slide">
            </div>
        {% endif %}
        {% if product.picture6 %}
            <div class="carousel-item">
                <img class="d-block w-100" src="{{ product.picture6.url }}" alt="Sixth slide">
            </div>
        {% endif %}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

<div class="info">

<div class="polygon"></div>

<div class="text">
      <!-- Individual Product page -->
<h1 class = " product-title">{{ product.name }}</h1>
<div class="priceandrating"><p class = "product-price">₹{{ product.price}} </p>
    <div class="rating">
    {% if ratingsCount == 0 %}
        <p class = "noratings" style = "font-size:3vmax;">No Ratings.</p>
    {% else %}
        {% for rate in rating %}
            {% if rate < 0 %}
                <span class="fa fa-star"></span>
            {% else %}
                <span class="fa fa-star checked"></span>
            {% endif %}
        {% endfor %}
    {% endif %}
    {% if product.name in template_wishlistItems %}
              <form action="" method="post">
                {% csrf_token %}
                <button style="background: none; color: inherit; border: none; padding: 0; font: inherit; cursor: pointer; outline: inherit;" type="submit" data-toggle="popover" title="Not feeling it?" data-content = "Click to remove from wishlist." data-trigger="hover" class = "wishlist" data-product="{{product.id}}" data-action="remove"><span style = "font-size:2em; color: red;">&ensp;<i class="bi bi-heart-fill"></i></span></button>
                <!-- <a href = "{% url 'review' product_id=product.id %}" data-toggle="popover" title="Like this Item?" data-content = "Click to add to wishlist." data-trigger="hover" class = "wishlist" ><span style = "font-size:2em; color: red;">&ensp;<i class="bi bi-heart"></i></span></a> -->
              </form>
              {% else %}
              <form action="" method="post">
                {% csrf_token %}
                <button style="background: none; color: inherit; border: none; padding: 0; font: inherit; cursor: pointer; outline: inherit;" type="submit" data-toggle="popover" title="Like this item?" data-content = "Click to add to wishlist." data-trigger="hover" class = "wishlist" data-product="{{product.id}}" data-action="add"><span style = "font-size:2em; color: red;">&ensp;<i class="bi bi-heart"></i></span></button>
                <!-- <a href = "{% url 'review' product_id=product.id %}" data-toggle="popover" title="Like this Item?" data-content = "Click to add to wishlist." data-trigger="hover" class = "wishlist" ><span style = "font-size:2em; color: red;">&ensp;<i class="bi bi-heart"></i></span></a> -->
              </form>
              {% endif %}
    </div></div>

<p class = "product-description">{{ product.description }}</p>
<!-- <ul> -->
    <!--Listing product data-->
    <!-- <li><strong>ID</strong> : {{ product.id }}</li>
    <li><strong>Name</strong> : {{ product.site_title }}</li>
    <li><strong>Price</strong> : {{ product.price }}</li>
    <li><strong>Description</strong> : {{ product.description }}</li>
    <li><strong>Tags</strong> : {{ product.tags }}</li>
    <li><strong>Popularity</strong> : {{ product.popularity }}</li>  -->
<!--</ul> -->


<button data-product="{{product.id}}" data-action="add" class="update-cart">
    Add to cart
  </button>
<div class="review">
    <a href = "{% url 'review' product_id=product.id %}">See reviews for this product</a>
    <a href = "{% url 'newReview' product_id=product.id %}">Write your own review for this product</a>
</div>
</div>


</div>


</div>

<!-- Recommendation slider -->

<div class="container-fluid" style= "background:#e0e1dd">

    <h1>You may also like:</h1>

    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12">
        <div class="carousel carousel-showmanymoveone slide" id="itemslider" style= "background-image: linear-gradient(rgb(216, 215, 215)ay)">
          <div class="carousel-inner">
  
            <div class="item active">
              <div class="col-xs-12 col-sm-6 col-md-2">
                <a href="{% url 'product_page' product_id=recommended.0.id %}"><img src="{{ recommended.0.picture1.url }}" class="img-responsive center-block"></a>
                <h4 class="text-center">{{ recommended.0.name }}</h4>
                <h5 class="text-center">₹ {{ recommended.0.price }}</h5>
              </div>
            </div>
  
            <div class="item">
              <div class="col-xs-12 col-sm-6 col-md-2">
                <a href="{% url 'product_page' product_id=recommended.1.id %}"><img src="{{ recommended.1.picture1.url }}" class="img-responsive center-block"></a>
                <h4 class="text-center">{{ recommended.1.name }}</h4>
                <h5 class="text-center">₹ {{ recommended.1.price }}</h5>
              </div>
            </div>

            <div class="item">
              <div class="col-xs-12 col-sm-6 col-md-2">
                <a href="{% url 'product_page' product_id=recommended.2.id %}"><img src="{{ recommended.2.picture1.url }}" class="img-responsive center-block"></a>
                <h4 class="text-center">{{ recommended.2.name }}</h4>
                <h5 class="text-center">₹ {{ recommended.2.price }}</h5>
              </div>
            </div>

            <div class="item">
              <div class="col-xs-12 col-sm-6 col-md-2">
                <a href="{% url 'product_page' product_id=recommended.3.id %}"><img src="{{ recommended.3.picture1.url }}" class="img-responsive center-block"></a>
                <h4 class="text-center">{{ recommended.3.name }}</h4>
                <h5 class="text-center">₹ {{ recommended.3.price }}</h5>
              </div>
            </div>

            <div class="item">
                <div class="col-xs-12 col-sm-6 col-md-2">
                  <a href="{% url 'product_page' product_id=recommended.4.id %}"><img src="{{ recommended.4.picture1.url }}" class="img-responsive center-block"></a>
                  <h4 class="text-center">{{ recommended.4.name }}</h4>
                  <h5 class="text-center">₹ {{ recommended.4.price }}</h5>
                </div>
              </div>

              <div class="item">
                <div class="col-xs-12 col-sm-6 col-md-2">
                  <a href="{% url 'product_page' product_id=recommended.5.id %}"><img src="{{ recommended.5.picture1.url }}" class="img-responsive center-block"></a>
                  <h4 class="text-center">{{ recommended.5.name }}</h4>
                  <h5 class="text-center">₹ {{ recommended.5.price }}</h5>
                </div>
              </div>

          </div>
  
          <div id="slider-control">
          <a class="left carousel-control" href="#itemslider" data-slide="prev"><img src="https://cdn0.iconfinder.com/data/icons/website-kit-2/512/icon_402-512.png" alt="Left" class="img-responsive"></a>
          <a class="right carousel-control" href="#itemslider" data-slide="next"><img src="http://pixsector.com/cache/81183b13/avcc910c4ee5888b858fe.png" alt="Right" class="img-responsive"></a>
        </div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
