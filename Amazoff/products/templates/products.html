{% extends "layout.html" %}
{% load static %}
{% block title %}Products{% endblock %}
{% block styles %}
<link rel='stylesheet' href="{% static 'css/style-products.css' %}">
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.2/vanilla-tilt.js" integrity="sha512-5RPueBRwDHxZ362heK/fya6Azw6ayHtn7nTqZnIoGFjiXdGAEvAjKco/FvzpTEIbfJI2Qxirl0/g21qizV/a/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}
<!-- General product page-->
{%block content %}

<div class="wrapperproducts">

<div class="product-title">
  PRODUCTS
</div>

<main>
  <section class = "cards">
    <!-- Rendering every product and data -->
    {% for product in products %}
    {% if product.inventory <= 0 %}
      <div class= "card outofstock">
    {% else %}
      <div class="card">
    {% endif %}
        <div class="card_image-container">
            <img src = "{{ product.picture1.url }}">
        </div>
        <div class="card_content">
            <p class = "card_title text--medium">
                {{ product.name }}
            </p>
            <div class="card_info">
              <a href = "{% url 'review' product_id=product.id %}" data-toggle="popover" title="Like this Item?" data-content = "Click to add to wishlist." data-trigger="hover" class = "wishlist" ><span style = "font-size:2em; color: red;">&ensp;<i class="bi bi-heart"></i></span></a>
                <p class = "text--medium">â‚¹{{ product.price }}</p>
                {% if product.inventory > 0 %}
                <a href = "{% url 'product_page' product_id=product.id %}"><button class = "card_button text-medium">View</button></a>
                {% else %}
                <button class = "card_button text-medium">View</button>
                {% endif %}
            </div>
        </div>
    </div>
    </ul>
    {% endfor %} 
  </section>
</main>

</div>

<script type="text/javascript">
  VanillaTilt.init(document.querySelectorAll(".card"), {
  max: 10,
  speed: 400,
  glare: true,
  "max-glare": 0.2,
});
</script>
{% endblock %}
